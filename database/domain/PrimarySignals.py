from sqlalchemy import *
from sqlalchemy.ext.declarative import declarative_base

from database.connection.DbConnection import pulse_db_schema

metadata = MetaData(schema=pulse_db_schema)
Base = declarative_base(metadata=metadata)


class PrimarySignals(Base):
    __tablename__ = 'primary_signals'
    __schemaname__ = pulse_db_schema
    equities_hash = Column(String, primary_key=True, nullable=False)
    script_name = Column(String, nullable=False)
    trade_date = Column(Date, nullable=False)
    free_cash_flows_pct_change = Column(Float, nullable=True)
    cash_flow_trend_line = Column(Float, nullable=True)
    earnings_trend_line = Column(Float, nullable=True)
    revenue_trend_line = Column(Float, nullable=True)
    change_in_free_cash_flows_to_assets = Column(Float, nullable=True)
    dividend_yield_cagr = Column(Float, nullable=True)
    revenue_growth = Column(Float, nullable=True)
    earnings_growth = Column(Float, nullable=True)
    sales_momentum = Column(Float, nullable=True)
    earnings_to_price_estimate_growth = Column(Float, nullable=True)
    earning_to_price_growth_two_year_estimate = Column(Float, nullable=True)
    eps_growth_estimate_one_year = Column(Float, nullable=True)
    eps_growth_estimate_five_year = Column(Float, nullable=True)
    fcf_per_share_change_to_price = Column(Float, nullable=True)
    fcf_per_share_change_to_price_3y = Column(Float, nullable=True)
    ocf_per_share_change_to_price = Column(Float, nullable=True)
    ocf_per_share_change_to_price_3y = Column(Float, nullable=True)
    ocf_growth_assets_adjusted = Column(Float, nullable=True)
    earnings_stability = Column(Float, nullable=True)
    ocf_growth = Column(Float, nullable=True)
    opm_growth = Column(Float, nullable=True)
    eps_growth_rate = Column(Float, nullable=True)
    npm_growth = Column(Float, nullable=True)
    reinvestment_rate = Column(Float, nullable=True)
    sustainable_growth_rate = Column(Float, nullable=True)
    asset_turnover_ratio = Column(Float, nullable=True)
    cash_to_sales = Column(Float, nullable=True)
    ce_return_on_equity = Column(Float, nullable=True)
    return_on_invested_capital = Column(Float, nullable=True)
    free_cash_flows_to_invested_capital = Column(Float, nullable=True)
    gross_profit_margin = Column(Float, nullable=True)
    inventory_turnover = Column(Float, nullable=True)
    minimum_gross_margin = Column(Float, nullable=True)
    net_profit_margin = Column(Float, nullable=True)
    net_profit_margin_estimate = Column(Float, nullable=True)
    operating_cash_flow_margin = Column(Float, nullable=True)
    return_on_assets = Column(Float, nullable=True)
    roe_coefficient_of_variation = Column(Float, nullable=True)
    capex_increase = Column(Float, nullable=True)
    gross_profit_to_asset_change = Column(Float, nullable=True)
    operating_assets_to_total_assets_change = Column(Float, nullable=True)
    equity_turnover = Column(Float, nullable=True)
    unexpected_profits = Column(Float, nullable=True)
    earnings_shortfall = Column(Float, nullable=True)
    change_inventory_to_assets = Column(Float, nullable=True)
    capex_to_sales = Column(Float, nullable=True)
    ni_excl_to_assets_change = Column(Float, nullable=True)
    operating_asset_turnover = Column(Float, nullable=True)
    oper_inc_vs_debt_change = Column(Float, nullable=True)
    capex_to_assets = Column(Float, nullable=True)
    accounting_accruals = Column(Float, nullable=True)
    gross_profits_to_assets = Column(Float, nullable=True)
    inventory_change = Column(Float, nullable=True)
    capex_vs_depreciation_change = Column(Float, nullable=True)
    logged_market_cap = Column(Float, nullable=True)
    logged_assets = Column(Float, nullable=True)
    logged_revenue = Column(Float, nullable=True)
    market_cap_to_number_of_analysts = Column(Float, nullable=True)
    net_external_financing = Column(Float, nullable=True)
    cash_ratio = Column(Float, nullable=True)
    cash_flow_debt_coverage = Column(Float, nullable=True)
    percentage_debt_change_one_year = Column(Float, nullable=True)
    ebitda_interest_coverage = Column(Float, nullable=True)
    total_coverage = Column(Float, nullable=True)
    degree_of_financial_leverage = Column(Float, nullable=True)
    debt_to_assets = Column(Float, nullable=True)
    debt_to_equity = Column(Float, nullable=True)
    ebitda_debt_change = Column(Float, nullable=True)
    rating_revision_100d = Column(Float, nullable=True)
    rating_revision_20d = Column(Float, nullable=True)
    analyst_rating_revisions = Column(Float, nullable=True)
    analyst_eps_revisions = Column(Float, nullable=True)
    eps_revisions_3m = Column(Float, nullable=True)
    eps_revisions_6m = Column(Float, nullable=True)
    stock_to_industry_rating_change = Column(Float, nullable=True)
    earnings_revision_confidence = Column(Float, nullable=True)
    time_weighted_eps_revisions = Column(Float, nullable=True)
    time_weighted_eps_revisions_adj = Column(Float, nullable=True)
    revenue_growth_estimate = Column(Float, nullable=True)
    eps_estimates_range = Column(Float, nullable=True)
    target_price_estimate = Column(Float, nullable=True)
    earning_to_price_fwd_estimate = Column(Float, nullable=True)
    weighted_estimate_tails = Column(Float, nullable=True)
    weighted_estimate_average = Column(Float, nullable=True)
    stock_to_industry_rating = Column(Float, nullable=True)
    ebitda_pessimistic_to_median = Column(Float, nullable=True)
    pretax_report_inc_pessimistic_to_median = Column(Float, nullable=True)
    pretax_inc_pessimistic_to_median = Column(Float, nullable=True)
    eps_reported_pessimistic_to_median = Column(Float, nullable=True)
    eps_norm_pessimistic_to_median = Column(Float, nullable=True)
    ni_pessimistic_to_median = Column(Float, nullable=True)
    ni_reported_pessimistic_to_median = Column(Float, nullable=True)
    eps_pessimistic_to_median = Column(Float, nullable=True)
    revenue_pessimistic_to_median = Column(Float, nullable=True)
    earnings_surprise = Column(Float, nullable=True)
    earnings_torpedo = Column(Float, nullable=True)
    real_earnings_surprise = Column(Float, nullable=True)
    book_to_price = Column(Float, nullable=True)
    dividend_yield = Column(Float, nullable=True)
    earnings_to_price = Column(Float, nullable=True)
    earnings_to_price_estimate = Column(Float, nullable=True)
    cash_flows_to_price = Column(Float, nullable=True)
    free_cash_flows_to_price_estimate = Column(Float, nullable=True)
    earning_yield = Column(Float, nullable=True)
    earning_yield_estimate = Column(Float, nullable=True)
    sales_to_price = Column(Float, nullable=True)
    sales_to_price_estimate = Column(Float, nullable=True)
    ebitda_est_to_ev = Column(Float, nullable=True)
    sales_to_ev = Column(Float, nullable=True)
    change_in_ocf_to_price = Column(Float, nullable=True)
    change_in_earning_yield = Column(Float, nullable=True)
    change_in_sales_to_price = Column(Float, nullable=True)
    fcf_est_to_price = Column(Float, nullable=True)
    time_weighted_fcf_est_to_price = Column(Float, nullable=True)
    price_momentum_one_month = Column(Float, nullable=True)
    price_momentum_one_month_lagged = Column(Float, nullable=True)
    price_momentum_one_quarter = Column(Float, nullable=True)
    price_momentum_one_quarter_lagged = Column(Float, nullable=True)
    sector_momentum = Column(Float, nullable=True)
    industry_momentum = Column(Float, nullable=True)
    sector_momentum_one_quarter = Column(Float, nullable=True)
    industry_momentum_one_quarter = Column(Float, nullable=True)
    industry_momentum_one_year = Column(Float, nullable=True)
    sector_momentum_one_year = Column(Float, nullable=True)
    correlation_momentum_one_year = Column(Float, nullable=True)
    volatility_one_year = Column(Float, nullable=True)
    volatility_one_quarter = Column(Float, nullable=True)
    volatility_two_year = Column(Float, nullable=True)
    stability_one_year = Column(Float, nullable=True)
    sector_stability_one_year = Column(Float, nullable=True)
    industry_stability_one_year = Column(Float, nullable=True)
    assets_to_inventory = Column(Float, nullable=True)
    free_cash_flow_to_price = Column(Float, nullable=True)
    operating_income_to_enterprise_value = Column(Float, nullable=True)
    de_leveraging = Column(Float, nullable=True)
    dividend_payout_ratio = Column(Float, nullable=True)